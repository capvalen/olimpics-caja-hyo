		<!doctype html>
		<html lang="es">
			<head>
				<meta charset="utf-8">
				<meta name="viewport" content="width=device-width, initial-scale=1">
				<title>Campeones del día a día - Caja Huancayo</title>
				<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
				<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
				<link rel="stylesheet" href="css/estilos.css?v=1.6">
				<link rel="shortcut icon" href="assets/favicon.png" type="image/png">
				<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
				<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick-theme.css"/>
			</head>
		<body>
				<div class="w-100" id="app">
					<section id="menu" class="d-flex flex-column flex-md-row justify-content-md-between my-3 mx-0 mx-lg-5  px-lg-4 oculto  ">
						<div class="d-flex justify-content-center">
							<img src="assets/logo.png" class="img-fluid my-2" >
						</div>
						<div>
							<p class="fw-bold fs-5 text-center">Kimberly García</p>
						</div>
					</section>
					<section id="bienvenida" class="d-flex align-items-center justify-content-center w-100 mt-n5">
						<img src="assets/logo.png" id="imgBienvenida" alt="Logo Caja Huancayo" class="animate__animated animate__fadeIn">
					</section>

					<section class="container animate__animated oculto" id="formulario">
						<div class="w-75 mx-auto">
							<p class="text-center d-none mb-0 fs-3">Bienvenido a</p>
							<p class="text-center d-none fs-2 mb-0 fw-bold">“Campeones día a día”</p>
							<div class="w-75 mx-auto">
								<img src="assets/campeones.jpg" class="img-fluid ">
							</div>
							<div class="d-flex justify-content-center"><span class="text-center cajaRoja fs-1 fw-bold ">Alcanza la meta</span></div>
						</div>
						<div class="w-75 mx-auto my-3">
							<div id="personajes">
								<div class="carrusel">
									<div class="position-relative">
										<div class="card m-1 ">
											<div class="card-body">
												<p class=" nombrePersonaje">Jesús Núñez</p>
												<img src="assets/campeon3.png" class="img-fluid" alt="Persona 1">
												<p class="mb-0 rango fw-bold">Primer Lugar</p>
												<p class="medalla">Medalla de oro</p>
											</div>
										</div>
										<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
									</div>
									<div class="position-relative">
										<div class="card m-1 ">
											<div class="card-body">
												<p class=" nombrePersonaje">Daniel Meza</p>
												<img src="assets/campeon2.jpg" class="img-fluid" alt="Persona 1">
												<p class="mb-0 rango fw-bold">Primer Lugar</p>
												<p class="medalla">Medalla de oro</p>
											</div>
										</div>
										<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
									</div>
									<div class="position-relative">
										<div class="card m-1 ">
											<div class="card-body ">
												<p class=" nombrePersonaje">Luz Espinoza</p>
												<img src="assets/campeon1.jpg" class="img-fluid" alt="Persona 1">
												<p class="mb-0 rango fw-bold">Primer Lugar</p>
												<p class="medalla">Medalla de oro</p>
											</div>
										</div>
										<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
									</div>
									<div class="position-relative">
										<div class="card m-1 ">
											<div class="card-body ">
												<p class=" nombrePersonaje">Karina Llanos </p>
												<img src="assets/campeon4.jpg" class="img-fluid" alt="Persona 1">
												<p class="mb-0 rango fw-bold">Primer Lugar</p>
												<p class="medalla">Medalla de oro</p>
											</div>
										</div>
										<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
									</div>
									<div class="position-relative">
										<div class="card m-1 ">
											<div class="card-body ">
												<p class=" nombrePersonaje">Carol Suasnabar</p>
												<img src="assets/campeon5.jpg" class="img-fluid" alt="Persona 1">
												<p class="mb-0 rango fw-bold">Primer Lugar</p>
												<p class="medalla">Medalla de oro</p>
											</div>
										</div>
										<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
									</div>
									<div class="position-relative">
										<div class="card m-1 ">
											<div class="card-body ">
												<p class=" nombrePersonaje">Mario Grijalba</p>
												<img src="assets/campeon6.jpg" class="img-fluid" alt="Persona 1">
												<p class="mb-0 rango fw-bold">Primer Lugar</p>
												<p class="medalla">Medalla de oro</p>
											</div>
										</div>
										<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
									</div>
								</div>

								<p class="text-center fs-5">¡Haz clic abajo para comenzar tu propia marcha atlética!</p>
								<div class="espaciado"></div>
								<div class="d-grid d-flex justify-content-center" @click="comenzar"><button class="btn btn-rojo">Comenzar</button></div>
								<div class="espaciado"></div>
							</div>
						</div>
					</section>

					<section class="container d-none animate__animated oculto w-50 mb-5" id="encuesta" v-if="!finalizado" >
						<div v-if="numPregunta==-1" id="pregunta0">
							<div class="w-75 mx-auto">
								<div class="question p-2 text-center fw-bold mb-3">
									<p class="fs-4 mb-0 titulo">Primer desafío por los <span class="rojo">3 km</span></p>
									<p class="fs-5 mb-0 instrucciones">Regístrate para empezar</p>
								</div>
								<div id="fInputs">
									<label for="">Nombre y apellidos:</label>
									<input type="text" class="form-control" v-model="postulante.nombre" autocomplete="off">
									<label for="">Correo:</label>
									<input type="text" class="form-control" v-model="postulante.correo" autocomplete="off">
									<label for="">Celular:</label>
									<input type="text" class="form-control" v-model="postulante.celular" autocomplete="off">
									<label for="">Ciudad de residencia:</label>
									<input type="text" class="form-control mb-3" v-model="postulante.ciudad" autocomplete="off">
									<div class="form-check">
										<input class="form-check-input" type="checkbox" id="chkAcepto" v-model="postulante.acepto">
										<label class="form-check-label" style="margin-top:0px" for="chkAcepto">Acepto términos y condiciones y política de protección de datos personales.</label>
									</div>
								</div>
							</div>
						</div>

						<div class="w-75 mx-auto d-none" id="pregunta1"  >
							<div v-if="numPregunta>-1">
								<div class="question p-2 text-center fw-bold mb-3">
									<p class="fs-4 mb-0 titulo">{{banco[numPregunta].question}} <span class="rojo">{{banco[numPregunta].caja}}.</span></p>
									<p class="fs-5 mb-0 instrucciones">{{banco[numPregunta].instruction}}</p>
								</div>
								<div id="fInputs">
									<p class="mb-2 fw-bold text-center" id="numPregunta"><small>Pregunta {{numPregunta+1}}</small></p>
									<p class="fs-4 fw-bold">{{banco[numPregunta].pregunta}}</p>
									<div class="alternativas">
										<div v-for="alternativa in banco[numPregunta].alternativas">
											<div :class="['alternativa d-flex', evaluarOpcion(alternativa.opcion) ]" @click="addRespuesta(alternativa.opcion)"><div class="rounded-circle bola me-3"><span>{{alternativa.opcion}}</span></div> {{alternativa.contenido}}</div>
										</div>
									</div>
								</div>
							</div>
						</div>


						<div id="controles" class="w-75 mx-auto">
							<div class="espaciado"></div>
							<div id="contenedorTimeLine" class=" ">
								<div id="linea"></div>
								<div id="timeline">
									<div :class="{'item':true,'activo': paso>=0}" @click="irCero()">0km</div>
									<div :class="{'item':true,'activo': paso>=5}" @click="irAPregunta(0)">5km</div>
									<div :class="{'item':true,'activo': paso>=10}" @click="irAPregunta(3)">10km</div>
									<div :class="{'item':true,'activo': paso>=15}" @click="irAPregunta(5)">15km</div>
									<div :class="{'item':true,'activo': paso>=20}" @click="irAPregunta(7)">20km</div>
									<div :class="{'item':true,'activo': paso>=30}" @click="irAPregunta(9)">35km</div>
								</div>
							</div>
							<div class="espaciado"></div>
							<div class="d-grid my-4 w-50 mx-auto gap-4">
								<button v-if="numPregunta<9" class="btn btn-rojo" @click="enviarHoja">Enviar</button>
								<button v-else class="btn btn-rojo" @click="enviarCalificaciones">Finalizar </button>
								<button class="btn btn-blanco" @click="atras">Atrás</button>
							</div>
						</div>
					</section>

					<section class="container w-50 mb-5" v-if="finalizado && !verFoto" id="final">
						<div class="card w-75 mx-auto p-3 cardTransparente" id="">
							<div class="card-body text-center">
								<img src="assets/solar.png" style="width:50%">
								<p class="fs-3 fw-bold mb-0">¡Excelente trabajo!</p>
								<p class="fs-5 fw-bold">Has completado todos los desafíos.</p>
								<p class="mb-1"><small>Tu meta alcanzada es de: </small></p>
								<div ><span class="fs-2 cajaRoja fw-bold">{{servidor.puntaje}} km.</span></div>
								<div class="espaciado" style="margin: 1rem;" ></div>
								<p class="fw-bold text-center"><small>Ahora participas en el sorteo de un iPhone 15 Pro Max y una Laptop HP. Haz clic en el botón de continuar para confirmar tu participación.</small></p>
								<p class="fs-5	 text-center">Tu código de participación es: <span class="fw-bold">#{{servidor.idCliente}}</span></p>
							</div>
							<div class="d-grid">
								<button class="btn btn-rojo" @click="mostrarZonaFoto">Genera tu fotografía</button>
							</div>
						</div>
					</section>

					<section class="container w-50 mb-5 d-flex flex-column d-none" id="sectionFoto" v-show="reclamaMedalla" >
						<img class="mx-auto" src="assets/solar.png" style="width:100px">
						<div>
							<p class="fs-5 mb-0 text-center">Reclama tu medalla</p>
							<p class="fs-3 fw-bold text-center">Saca o sube una foto tuya</p>
							<div class="mx-auto d-flex justify-content-center my-3">
								<div class="d-flex flex-column">
									<button class="btn btn-cuadrado mx-1" @click="subirDesdeCamara">
										<img src="assets/camara.png" alt="">
									</button>
									<span class="text-light fw-bold text-center">Tomar</span>
								</div>
								<div class="d-flex flex-column">
									<button class="btn btn-cuadrado mx-1" @click="subirFoto">
										<img src="assets/subir.png" alt="">
									</button>
									<span class="text-light fw-bold text-center">Subir</span>
								</div>
							</div>
						</div>
						<div class="card cardTransparente w-75 mx-auto mt-4">
							<div class="card-body text-center">
								<div v-show="!verFinal">
									<p class="mb-0 fw-bold">Aquí tienes un consejo:</p>
									<p class="mb-0">Para obtener mejores resultados, sostén tu teléfono más atrás para un mejor ángulo y asegúrate de estar en un lugar bien iluminado.</p>
								</div>
								<img id="preview" src="" alt="Previsualización de la Foto" style="max-width: 100%; height: auto; display: none;">
								<input type="file" id="txtFoto" accept=".png, .jpg, .jpeg" @change="fotoDesdePC">
								<input type="file" id="txtCamara" accept="image/*" capture="environment" @change="fotoDesdeCamara">
								<div id="verFinal" v-show="verFinal">
									<canvas class="w-100" id="canvas"></canvas>
									<button class="btn btn-cuadrado" @click="descargarFoto" id="btnDescargar"><img src="assets/download.png" style="width:30px; height:30px;"> <br>Descargar foto</button>
								</div>
							</div>
						</div>
						<div class="w-75 mx-auto mt-4" v-show="verFinal">
							<p class="text-center fw-bold fs-5">Comparte con amigos <span class="cajaRoja" style="padding: 3px 1rem;">#campeonesdeldiaadia</span></p>
							<p class="fs-3 fw-bold text-center">
								Te invitamos a compartir tu foto en tus redes sociales y seguirnos para mantenerte informado sobre los ganadores del sorteo “Campeones del día a día”.
							</p>
							<div class="col d-flex justify-content-center mb-2">
								<div class="icono m-2"> <a href="https://www.facebook.com/CajaHuancayo" target="_blank"><img src="assets/facebook.png" width="50"></a> </div>
								<div class="icono m-2"> <a href="https://www.instagram.com/caja_huancayo/" target="_blank"><img src="assets/instagram.png" width="50"></a> </div>
								<div class="icono m-2"> <a href="https://www.tiktok.com/@cajahuancayo" target="_blank"><img src="assets/tiktok.png" width="50"></a> </div>
							</div>
							<div class="d-flex justify-content-center d-grid">
								<button class="btn btn-light" onclick="location.reload()">Comenzar de nuevo</button>
							</div>
						</div>

					</section>

					<div class="w-100 px-5 py-4" id="pie">
						<div class="row d-flex flex-md-row flex-column-reverse">
							<div class="col col-md-8 d-flex flex-column flex-md-row ">
								<div class="mx-5 fw-bold"><p>POLITICA DE PRIVACIDAD</p></div>
								<div class="mx-5 fw-bold"><p>CONDICIONES DE USO</p></div>
								<div class="mx-5 fw-bold"><p>GESTIONAR PREFERENCIAS</p></div>
							</div>
							<div class="col col-md-4 d-flex flex-row-reverse justify-content-center mb-2">
								<div class="icono m-2"> <a href="https://www.tiktok.com/@cajahuancayo" target="_blank"><img src="assets/tiktok.png" width="30"></a> </div>
								<div class="icono m-2"> <a href="https://www.instagram.com/caja_huancayo/" target="_blank"><img src="assets/instagram.png" width="30"></a> </div>
								<div class="icono m-2"> <a href="https://www.facebook.com/CajaHuancayo" target="_blank"><img src="assets/facebook.png" width="30"></a> </div>
							</div>
						</div>
					</div>
					<div class="d-none" id="overload">
						<ul>
							<li></li>
							<li></li>
							<li></li>
						</ul>
					</div>
				</div>
				
		<script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		<script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
		
		<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

		<link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@4/bulma.css" rel="stylesheet">

		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

		<script>
			const { createApp, ref, onMounted, computed } = Vue

			const app = createApp({
				setup() {
					const postulante = ref({
						nombre:'', correo:'', celular:'', ciudad:'', acepto:false
					})
					const paso = ref(0)
					const numPregunta = ref(-1)
					const saltar = ref('uno')
					const finalizado = ref(false)
					const servidor = ref(null)
					const verFoto = ref(false)
					const queSube = ref(null)
					const reclamaMedalla = ref(false)
					const verFinal = ref(false)

					const banco = ref([
						{id:1, question: 'Segundo desafío por los', caja: '5 km', proximo:5, instruction: 'Responde la siguiente pregunta',
						pregunta: '¿Cómo se le denomina a Kimberly García?', alternativas:[
							{opcion:'A', contenido:'Bicampeona de Oro'},
							{opcion:'B', contenido:'Marchante fugaz'},
						]},
						{id:2, question: 'Estás cerca de conseguir los', caja: '10 km', proximo:8, instruction: 'Responde una pregunta más',
						pregunta: '¿Cuántos años tiene Caja Huancayo apoyando los sueños de los emprendedores?', alternativas:[
							{opcion:'A', contenido:'15 años'},
							{opcion:'B', contenido:'36 años'},
							{opcion:'C', contenido:'9 años'},
						]},
						{id:3, question: '¡Bien hecho! Sigamos por los', caja: '10 km', proximo:10, instruction: 'Responde la siguiente pregunta',
						pregunta: '¿Dónde se ubican las agencias de Caja Huancayo?', alternativas:[
							{opcion:'A', contenido:'Solo en la sierra'},
							{opcion:'B', contenido:'Están presente en todo el Perú'},
							{opcion:'C', contenido:'Solo está en Junín'},
						]},
						{id:4, question: 'Estás por llegar a los', caja: '15 km', proximo:13, instruction: 'Responde una pregunta más',
						pregunta: '¿Es cierto que con Caja Huancayo se puede realizar operaciones con Plin y Yape?', alternativas:[
							{opcion:'A', contenido:'Verdadero'},
							{opcion:'B', contenido:'Falso'},
						]},
						{id:5, question: '¡Felicidades! Siguiente meta:', caja: '15 km', proximo:15, instruction: 'Responde la siguiente pregunta',
						pregunta: '¿Caja Huancayo cuenta con el respaldo de la prestigiosa entidad BID Invest?', alternativas:[
							{opcion:'A', contenido:'Falso'},
							{opcion:'B', contenido:'Verdadero'},
						]},
						{id:6, question: '¡Vamos! Casi llegamos a los', caja: '20 km', proximo:18, instruction: 'Responde una pregunta más',
						pregunta: '¿A qué rama del atletismo se dedica Kimberly García?', alternativas:[
							{opcion:'A', contenido:'Natación'},
							{opcion:'B', contenido:'Lanzamiento de jabalina'},
							{opcion:'C', contenido:'Marcha atlética'},
						]},
						{id:7, question: '¡En hora buena, casi los', caja: '20 km', proximo:20, instruction: 'Caja Huancayo apoya al deporte nacional auspiciando también al',
						pregunta: 'Caja Huancayo apoya al deporte nacional auspiciando también al:', alternativas:[
							{opcion:'A', contenido:'Sport Huancayo y al ADT de Tarma'},
							{opcion:'B', contenido:'Pedro Gallese, arquero de la selección peruana de futbol.'},
							{opcion:'C', contenido:'Todas son correctas'},
						]},
						{id:8, question: '¡Estás a punto de llegar a los', caja: '35 km', proximo:25, instruction: 'Responde la siguiente pregunta',
						pregunta: '¿Cómo se conoce a Caja Huancayo?', alternativas:[
							{opcion:'A', contenido:'La Caja del Perú'},
							{opcion:'B', contenido:'El banco de todos los peruanos'},
							{opcion:'C', contenido:'El banco del Ekeko'},
						]},
						{id:9, question: 'Últimos esfuerzos para los', caja: '35 km', proximo:30, instruction: 'Ahorrar en Caja Huancayo es totalmente seguro por la siguiente razón:',
						pregunta: 'Caja Huancayo es una empresa 100% peruana que apoya a los peruanos:', alternativas:[
							{opcion:'A', contenido:'Es totalemente confiable y ofrece alta rentabilidad'},
							{opcion:'B', contenido:'Por que pertenece al FSD (Fondo de Seguros y Depósitos)'},
							{opcion:'C', contenido:'Por que Está supervisado por la SBS'},
							{opcion:'D', contenido:'Todas son correctas'},
						]},
						{id:10, question: 'Desafío final para los', caja: '35 km', proximo:30, instruction: 'Caja Huancayo es una empresa 100% peruana que apoya a los peruanos:',
						pregunta: 'Caja Huancayo es una empresa 100% peruana que apoya a los peruanos:', alternativas:[
							{opcion:'A', contenido:'Verdadero'},
							{opcion:'B', contenido:'Falso'},
						]},
					])
					const bancoRespuestas = ref([])

					function ocultarLogo(){
						setTimeout(()=>{
							var bienvenidaDiv = document.getElementById("imgBienvenida");
							bienvenidaDiv.classList.remove("animate__fadeIn");
							bienvenidaDiv.classList.add("animate__fadeOut");
							bienvenidaDiv.addEventListener('animationend', () => {
								bienvenidaDiv.parentElement.classList.add('oculto', 'd-none')
								const menu = document.getElementById('menu')
								const formulario = document.getElementById('formulario')
								menu.classList.remove('oculto')
								menu.classList.add('animate__animated','animate__fadeIn')
								formulario.classList.remove('oculto')
								formulario.classList.add('animate__animated','animate__fadeIn')
							});
						}, 2000) //cambiar a 2000 segundos

						fetch('api/punto.php')
					}

					function irCero(){
						numPregunta.value = -1
						paso.value=0
						saltar.value = 'cero'
					}

					onMounted(()=>{

						if ($(window).width() >= 576){
							$('.carrusel	').slick({
								slidesToShow: 3,
								slidesToScroll: 3,
								dots: true
							});
						}else{
							$('.carrusel	').slick({
								slidesToShow: 1,
								slidesToScroll: 1,
								dots: true
							});
						}

						ocultarLogo()
						for(let i =0; i<10; i++)
							bancoRespuestas.value[i]=''
					})

					function comenzar(){
						scrollToTop()
						const formulario = document.getElementById('formulario')
						formulario.classList.add('animate__animated', 'animate__fadeOut' )
						formulario.addEventListener('animationend', ()=>{
							formulario.classList.add('oculto', 'd-none')
							const encuesta = document.getElementById('encuesta')
							encuesta.classList.remove('oculto', 'd-none')
							encuesta.classList.add('animate__animated','animate__fadeIn')
						})
					}
					
					function enviarHoja(){
						switch(true){
							case (numPregunta.value == -1):
								if(!postulante.value.nombre || !postulante.value.correo || !postulante.value.celular || !postulante.value.ciudad) Swal.fire({
									icon: 'warning', text: "Todos los campos son obligatorios" })
								else if(!postulante.value.acepto) Swal.fire({
									icon: 'warning', text: "Debe aceptar los términos y condiciones" })
								else{
									saltar.value='uno'
									numPregunta.value=-1
									paso.value=0
									cambiarSoloPregunta1()
								}
							break;
							case (numPregunta.value>-1):
								if(bancoRespuestas.value[numPregunta.value]!=''){
									saltar.value='uno'
									cambiarSoloPregunta1()
								}else{
									Swal.fire({
										icon: 'warning', text: "Debe seleccionar una opción" })
								}
							break;
						}
						scrollToTop()
					}

					function irCero(){
						saltar.value = 'cero'
						numPregunta.value = -1
						paso.value = 0
						const pregunta0 = document.getElementById('pregunta0')
						const pregunta1 = document.getElementById('pregunta1')
						pregunta0.classList.remove('d-none', 'oculto')
						pregunta1.classList.add('d-none', 'oculto')
					}
					
					function irAPregunta(numero){
						if(numPregunta.value>=numero){
							saltar.value = numero
							cambiarSoloPregunta1()
						}
					}

					function atras(){
						if(numPregunta.value >0) numPregunta.value--
						else irCero()
					}

					function cambiarSoloPregunta1(){
						const preguntas = document.getElementById('pregunta1')
						preguntas.classList.remove('d-none', 'oculto')
						if( saltar.value == 'cero') return null
						else if( saltar.value == 'uno') numPregunta.value ++
						else numPregunta.value = saltar.value
						paso.value = banco.value[numPregunta.value].proximo
					}

					function addRespuesta(rpta){
						bancoRespuestas.value[numPregunta.value]=rpta
					}

					function evaluarOpcion(opcion){
						let seleccion = false
						if(bancoRespuestas.value[numPregunta.value] == opcion)
								seleccion=true
						return seleccion ? 'activo':''
					}

					function scrollToTop () {
						window.scrollTo({
							top: 0,
							behavior: 'smooth'
						});
					}

					function mostrarZonaFoto(){
						scrollToTop()
						reclamaMedalla.value=true
						console.log(reclamaMedalla.value)
						const sectionFoto = document.getElementById('sectionFoto')
						const final = document.getElementById('final')
						final.classList.add('d-none')
						sectionFoto.classList.remove('d-none')
					}
					function enviarCalificaciones(){
						const overload = document.getElementById('overload')
						overload.classList.remove('d-none')
						const datos = new FormData()
						datos.append('cliente', JSON.stringify(postulante.value))
						datos.append('respuestas', JSON.stringify(bancoRespuestas.value))
						fetch('api/resolver.php',{
							method:'POST', body:datos
						})
						.then(serv => serv.json() )
						.then(resp =>{
							servidor.value = resp;
							overload.classList.add('d-none')
							finalizado.value = true
							const sectionFoto = document.getElementById('final')
							sectionFoto.classList.remove('d-none')
							//console.log(resp)
						})
					}

					function tomarFoto(){
						const overload = document.getElementById('overload')
						overload.classList.remove('d-none')
						queSube.value = 'camera'
						let input = document.createElement('input');
						input.type = 'file';
						input.accept = 'image/*';
						input.capture = 'camera';  // Forzar el uso de la cámara
				
						// Agregar un listener para cuando se seleccione un archivo
						input.addEventListener('change', function(event) {
								let file = event.target.files[0];
								if (file) {
									let reader = new FileReader();
									reader.onload = function(e) {
										// Obtener el elemento img y establecer su src al resultado de la lectura
										let img = document.getElementById('preview');
										img.src = e.target.result;
										img.style.display = 'block';  // Mostrar la imagen
									};
									reader.readAsDataURL(file);
								}
						});
						// Simular un clic en el input para abrir la cámara
						input.click();
					}
					function fotoDesdePC(){
						let input = document.getElementById('txtFoto');

						const canvas = document.getElementById('canvas');
						const ctx = canvas.getContext('2d');
						const file = event.target.files[0];
						const reader = new FileReader();
				
						reader.onload = function(e) {
								const img = new Image();
								img.onload = function() {
										canvas.width = img.width;
										canvas.height = img.height;
				
										// Dibujar la imagen cargada en el canvas
										ctx.drawImage(img, 0, 0, img.width, img.height);
				
										// Cargar y dibujar el marco sobre la imagen
										const frame = new Image();
										frame.src = 'assets/marco.png';
										frame.onload = function() {
												ctx.drawImage(frame, 0, 0, img.width, img.height);
										};
								};
								img.src = e.target.result;
								verFinal.value=true
						};
				
						reader.readAsDataURL(file);
					}
					function subirFoto(){
						let input = document.getElementById('txtFoto');
						input.click();
					}

					function subirDesdeCamara(){
						let input = document.getElementById('txtCamara');
						input.click();
					}

					function drawImages(image1){
						//const txtFoto = document.getElementById('txtFoto')
						//console.log(txtFoto)
						//const image1 = input.files[0]
						console.log(image1)
						const marco = new Image()
						marco.src = "assets/marco.png"
						const canvas = document.getElementById('canvas');
						const context = canvas.getContext('2d');
						canvas.width = Math.max(image1.width, marco.width);
						canvas.height = Math.max(image1.height, marco.height);
				
						context.drawImage(image1, 0, 0);
						context.drawImage(marco, 0, 0);
				
						canvas.style.display = 'block';
						document.getElementById('downloadButton').style.display = 'block';
					}

					function fotoDesdeCamara(){
						const input = document.getElementById('txtCamara')
						const canvas = document.getElementById('canvas');
						const ctx = canvas.getContext('2d');
						const file = input.files[0];
						const reader = new FileReader();

						reader.onload = function(e) {
								const img = new Image();
								img.onload = function() {
									const minSize = Math.min(img.width, img.height);
									const startX = (img.width - minSize) / 2;
									const startY = (img.height - minSize) / 2;

									canvas.width = minSize;
									canvas.height = minSize;

									// Dibujar la imagen cargada en el canvas
									//ctx.drawImage(img, 0, 0, img.width, img.height);
									ctx.drawImage(img, startX, startY, minSize, minSize, 0, 0, minSize, minSize);

									// Cargar y dibujar el marco sobre la imagen
									const frame = new Image();
									frame.src = 'assets/marco.png';
									const inicio = img.width;
									const final = inicio
									frame.onload = function() {
											ctx.drawImage(frame, 0, final-500, inicio, final);
									};
								};
								img.src = e.target.result;
								verFinal.value=true
						};

						reader.readAsDataURL(file);
					}

					function descargarFoto(){
						const canvas = document.getElementById('canvas');
						const link = document.createElement('a');
						link.href = canvas.toDataURL('image/jpeg');
						link.download = 'Campeones.jpg';
						link.click();
					}
				

					return {
						comenzar, postulante, paso, enviarHoja, banco, numPregunta, saltar, irAPregunta, irCero, atras, addRespuesta, evaluarOpcion, bancoRespuestas, enviarCalificaciones, finalizado, servidor, verFoto, tomarFoto, subirFoto, fotoDesdePC, fotoDesdeCamara, subirDesdeCamara, verFinal, descargarFoto, reclamaMedalla, mostrarZonaFoto
					}
				}
			}).mount('#app')
		</script>
		</body>

		</html>
