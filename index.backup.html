<!doctype html>
<html lang="es">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Campeones del día a día - Caja Huancayo</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
		<link rel="stylesheet" href="css/estilos.css">
		<link rel="shortcut icon" href="assets/favicon.png" type="image/png">
		<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
		<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick-theme.css"/>
	</head>
	<body>
		<div id="app">
			<section id="menu" class="d-flex justify-content-between my-2 mx-5  px-4 oculto ">
				<img src="/assets/logo.png" alt="" width="200px">
				<p class="fw-bold fs-5">Kimberly García</p>
			</section>
			<section id="bienvenida" class="d-flex align-items-center justify-content-center w-100 mt-n5">
				<img src="/assets/logo.png" id="imgBienvenida" alt="Logo Caja Huancayo" class="animate__animated animate__fadeIn">
			</section>

			<section class="container animate__animated oculto" id="formulario">
				<div class="w-50 mx-auto">
					<p class="text-center mb-0 fs-3">Bienvenido a</p>
					<p class="text-center fs-2 mb-0 fw-bold">“Campeones día a día”</p>
					<div class="d-flex justify-content-center"><span class="text-center cajaRoja fs-1 fw-bold ">Alcanza la meta</span></div>
				</div>
				<div class="w-75 mx-auto my-3">
					<div id="personajes">
						<div class="carrusel">
							<div class="position-relative">
								<div class="card m-1 ">
									<div class="card-body">
										<p class=" nombrePersonaje">Antonio Mamani</p>
										<img src="assets/personaje1.png" class="img-fluid" alt="Persona 1">
										<p class="mb-0 rango fw-bold">Primer Lugar</p>
										<p class="medalla">Medalla de oro</p>
									</div>
								</div>
								<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
							</div>
							<div class="position-relative">
								<div class="card m-1 ">
									<div class="card-body">
										<p class=" nombrePersonaje">Patricia Meza</p>
										<img src="assets/personaje2.png" class="img-fluid" alt="Persona 1">
										<p class="mb-0 rango fw-bold">Primer Lugar</p>
										<p class="medalla">Medalla de oro</p>
									</div>
								</div>
								<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
							</div>
							<div class="position-relative">
								<div class="card m-1 ">
									<div class="card-body ">
										<p class=" nombrePersonaje">Ana Maldonado</p>
										<img src="assets/personaje3.png" class="img-fluid" alt="Persona 1">
										<p class="mb-0 rango fw-bold">Primer Lugar</p>
										<p class="medalla">Medalla de oro</p>
									</div>
								</div>
								<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
							</div>
							<div class="position-relative">
								<div class="card m-1 ">
									<div class="card-body ">
										<p class=" nombrePersonaje">Ana Maldonado</p>
										<img src="assets/personaje3.png" class="img-fluid" alt="Persona 1">
										<p class="mb-0 rango fw-bold">Primer Lugar</p>
										<p class="medalla">Medalla de oro</p>
									</div>
								</div>
								<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
							</div>
							<div class="position-relative">
								<div class="card m-1 ">
									<div class="card-body ">
										<p class=" nombrePersonaje">Ana Maldonado</p>
										<img src="assets/personaje3.png" class="img-fluid" alt="Persona 1">
										<p class="mb-0 rango fw-bold">Primer Lugar</p>
										<p class="medalla">Medalla de oro</p>
									</div>
								</div>
								<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
							</div>
							<div class="position-relative">
								<div class="card m-1 ">
									<div class="card-body ">
										<p class=" nombrePersonaje">Ana Maldonado</p>
										<img src="assets/personaje3.png" class="img-fluid" alt="Persona 1">
										<p class="mb-0 rango fw-bold">Primer Lugar</p>
										<p class="medalla">Medalla de oro</p>
									</div>
								</div>
								<div class="d-flex justify-content-center mt-n3"><span class="carrera">35 Km.</span></div>
							</div>
						</div>

						<p class="text-center fs-5">¡Haz clic abajo para comenzar tu propia marcha atlética!</p>
						<div class="espaciado"></div>
						<div class="d-grid d-flex justify-content-center" @click="comenzar"><button class="btn btn-rojo">Comenzar</button></div>
						<div class="espaciado"></div>
					</div>
				</div>
			</section>

			<section class="container animate__animated oculto w-50 mb-5" id="encuesta">
				<div class="w-75 mx-auto " id="pregunta0">
					<div class="question p-2 text-center fw-bold mb-3">
						<p class="fs-4 mb-0 titulo">Primer desafío por los <span class="rojo">3 km</span></p>
						<p class="fs-5 mb-0 instrucciones">Regístrate para empezar</p>
					</div>
					<div id="fInputs">
						<label for="">Nombre y apellidos:</label>
						<input type="text" class="form-control" v-model="postulante.nombre" autocomplete="off">
						<label for="">Correo:</label>
						<input type="text" class="form-control" v-model="postulante.correo" autocomplete="off">
						<label for="">Celular:</label>
						<input type="text" class="form-control" v-model="postulante.celular" autocomplete="off">
						<label for="">Ciudad de residencia:</label>
						<input type="text" class="form-control mb-3" v-model="postulante.ciudad" autocomplete="off">
						<div class="form-check">
							<input class="form-check-input" type="checkbox" id="chkAcepto" v-model="postulante.acepto">
							<label class="form-check-label" style="margin-top:0px" for="chkAcepto">Acepto términos y condiciones y política de protección de datos personales.</label>
						</div>
					</div>
				</div>

				<div class="w-75 mx-auto d-none" id="pregunta1" >
					<div v-if="numPregunta>-1">
						<div class="question p-2 text-center fw-bold mb-3">
							<p class="fs-4 mb-0 titulo">{{banco[numPregunta].question}} <span class="rojo">{{banco[numPregunta].caja}}.</span></p>
							<p class="fs-5 mb-0 instrucciones">{{banco[numPregunta].instruction}}</p>
						</div>
						<div id="fInputs">
							<p class="mb-2 fw-bold text-center" id="numPregunta"><small>Pregunta {{numPregunta+1}}</small></p>
							<p class="fs-4 fw-bold">{{banco[numPregunta].pregunta}}</p>
							<div class="alternativas">
								<div v-for="alternativa in banco[numPregunta].alternativas">
									<div class="alternativa d-flex"><div class="rounded-circle bola me-3"><span>{{alternativa.opcion}}</span></div> {{alternativa.contenido}}</div>
								</div>
							</div>
						</div>
					</div>
				</div>


				<div id="controles" class="w-75 mx-auto">
					<div class="espaciado"></div>
					<div id="contenedorTimeLine" class=" ">
						<div id="linea"></div>
						<div id="timeline">
							<div :class="{'item':true,'activo': paso>=0}" @click="irCero()">0km</div>
							<div :class="{'item':true,'activo': paso>=5}" @click="irAPregunta(0)">5km</div>
							<div :class="{'item':true,'activo': paso>=10}" @click="irAPregunta(3)">10km</div>
							<div :class="{'item':true,'activo': paso>=15}" @click="irAPregunta(5)">15km</div>
							<div :class="{'item':true,'activo': paso>=20}" @click="irAPregunta(7)">20km</div>
							<div :class="{'item':true,'activo': paso>=35}" @click="irAPregunta(9)">35km</div>
						</div>
					</div>
					<div class="espaciado"></div>
					<div class="d-grid my-4 w-50 mx-auto gap-4">
						<button class="btn btn-rojo" @click="enviarHoja">Enviar</button>
						<button class="btn btn-blanco">Atrás</button>
					</div>
				</div>
			</section>

			<div class="w-100 px-5 py-4" id="pie">
				<div class="row">
					<div class="col col-md-8 d-flex">
						<div class="mx-5 fw-bold"><p>POLITICA DE PRIVACIDAD</p></div>
						<div class="mx-5 fw-bold"><p>CONDICIONES DE USO</p></div>
						<div class="mx-5 fw-bold"><p>GESTIONAR PREFERENCIAS</p></div>
					</div>
					<div class="col col-md-4 d-flex flex-row-reverse">
						<div class="icono mx-2"> <img src="/assets/tiktok.png" width="30"> </div>
						<div class="icono mx-2"> <img src="/assets/instagram.png" width="30"> </div>
						<div class="icono mx-2"> <img src="/assets/facebook.png" width="30"> </div>
					</div>
				</div>
			</div>
		</div>
		
		<script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
		<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

		<link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@4/bulma.css" rel="stylesheet">

		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

		<script>
			const { createApp, ref, onMounted } = Vue
		
			createApp({
				setup() {
					const postulante = ref({
						nombre:'Q', correo:'Q', celular:'Q', ciudad:'Q', acepto:true
					})
					const paso = ref(0)
					const numPregunta = ref(-1)
					const saltar = ref('uno')
					const finCero = () =>{
						return new Promise ((resolve, reject) =>{
							const pregunta = document.getElementById("pregunta0");
							pregunta.addEventListener('animationend', (event)=>{
								if(event.animationName == 'fadeOut'){
									pregunta.classList.add('oculto', 'd-none')
									resolve('oculto')
								}
								if(event.animationName == 'fadeIn'){
									resolve('displayado')
								}
							})
						})
					}
					const finUno = () =>{
						return new Promise ((resolve, reject) =>{
							const pregunta = document.getElementById("pregunta1");
							pregunta.addEventListener('animationend', (event)=>{
								if(event.animationName == 'fadeOut'){
									pregunta.classList.add('oculto', 'd-none')
									resolve('oculto')
								}
								if(event.animationName == 'fadeIn'){
									resolve('displayado')
								}
							})
						})
					}

					const banco = ref([
						{id:1, question: 'Segundo desafío por los', caja: '5 km', proximo:5, instruction: 'Responde la siguiente pregunta',
						pregunta: '¿Cómo se le denomina a Kimberly García?', alternativas:[
							{opcion:'A', contenido:'Bicampeona de Oro'},
							{opcion:'B', contenido:'Marchante fugaz'},
						]},
						{id:2, question: 'Estás cerca de conseguir los', caja: '10 km', proximo:8, instruction: 'Responde una pregunta más',
						pregunta: '¿Cuántos años tiene Caja Huancayo apoyando los sueños de los emprendedores?', alternativas:[
							{opcion:'A', contenido:'15 años'},
							{opcion:'B', contenido:'35 años'},
							{opcion:'C', contenido:'9 años'},
						]},
						{id:3, question: '¡Bien hecho! Sigamos por los', caja: '10 km', proximo:10, instruction: 'Responde la siguiente pregunta',
						pregunta: '¿Dónde se ubican las agencias de Caja Huancayo?', alternativas:[
							{opcion:'A', contenido:'Solo en la sierra'},
							{opcion:'B', contenido:'Están presente en todo el Perú'},
							{opcion:'B', contenido:'Solo está en Junín'},
						]},
						{id:4, question: 'Estás por llegar a los', caja: '15 km', proximo:13, instruction: 'Responde una pregunta más',
						pregunta: '¿Es cierto que con Caja Huancayo se puede realizar operaciones con Plin y Yape?', alternativas:[
							{opcion:'A', contenido:'Verdadero'},
							{opcion:'B', contenido:'Falso'},
						]},
						{id:5, question: '¡Felicidades! Siguiente meta:', caja: '15 km', proximo:15, instruction: 'Responde la siguiente pregunta',
						pregunta: '¿En qué ciudad participará Kimberly García por los Juegos Olímpicos?', alternativas:[
							{opcion:'A', contenido:'Estambul'},
							{opcion:'B', contenido:'Huancayo'},
							{opcion:'C', contenido:'París'},
						]},
						{id:6, question: '¡Vamos! Casi llegamos a los', caja: '20 km', proximo:18, instruction: 'Responde una pregunta más',
						pregunta: '¿A qué rama del atletismo se dedica Kimberly García?', alternativas:[
							{opcion:'A', contenido:'Natación'},
							{opcion:'B', contenido:'Lanzamiento de jabalina'},
							{opcion:'C', contenido:'Marcha atlética'},
						]},
						{id:7, question: '¡En hora buena, casi los', caja: '20 km', proximo:20, instruction: 'Caja Huancayo apoya al deporte nacional auspiciando también al',
						pregunta: '¿Cómo se conoce a Caja Huancayo?', alternativas:[
							{opcion:'A', contenido:'La Caja del Perú'},
							{opcion:'B', contenido:'El banco de todos los peruanos'},
							{opcion:'C', contenido:'Todas son correctas'},
						]},
						{id:8, question: '¡Estás a punto de llegar a los', caja: '35 km', proximo:25, instruction: 'Responde la siguiente pregunta',
						pregunta: '¿Cómo se conoce a Caja Huancayo?', alternativas:[
							{opcion:'A', contenido:'La Caja del Perú'},
							{opcion:'B', contenido:'El banco de todos los peruanos'},
							{opcion:'C', contenido:'El banco del Ekeko'},
						]},
						{id:9, question: 'Últimos esfuerzos para los', caja: '35 km', proximo:30, instruction: 'Ahorrar en Caja Huancayo es totalmente seguro por la siguiente razón:',
						pregunta: 'Caja Huancayo es una empresa 100% peruana que apoya a los peruanos:', alternativas:[
							{opcion:'A', contenido:'Es totalemente confiable y ofrece alta rentabilidad'},
							{opcion:'B', contenido:'Por que pertenece al FSD (Fondo de Seguros y Depósitos)'},
							{opcion:'C', contenido:'Por que Está supervisado por la SBS'},
							{opcion:'D', contenido:'Todas son correctas'},
						]},
						{id:10, question: 'Desafío final para los', caja: '35 km', proximo:30, instruction: 'Caja Huancayo es una empresa 100% peruana que apoya a los peruanos:',
						pregunta: 'Caja Huancayo es una empresa 100% peruana que apoya a los peruanos:', alternativas:[
							{opcion:'A', contenido:'Verdadero'},
							{opcion:'B', contenido:'Falso)'},
						]},
					])

					function ocultarLogo(){
						setTimeout(()=>{
							var bienvenidaDiv = document.getElementById("imgBienvenida");
							bienvenidaDiv.classList.remove("animate__fadeIn");
							bienvenidaDiv.classList.add("animate__fadeOut");
							bienvenidaDiv.addEventListener('animationend', () => {
								bienvenidaDiv.parentElement.classList.add('oculto', 'd-none')
								const menu = document.getElementById('menu')
								const formulario = document.getElementById('formulario')
								menu.classList.remove('oculto')
								menu.classList.add('animate__animated','animate__fadeIn')
								formulario.classList.remove('oculto')
								formulario.classList.add('animate__animated','animate__fadeIn')
							});
						}, 200) //cambiar a 2000 segundos
					}

					function irCero(){
						numPregunta.value = -1
						paso.value=0
						saltar.value = 'cero'
						const pregunta1 = document.getElementById('pregunta1')
						pregunta1.classList.add('animate__animated', 'animate__fadeOut' )
						finUno().then(queHay=>{
							//console.log(queHay)
							const pregunta0 = document.getElementById('pregunta0')
							pregunta0.classList.remove('animate__fadeIn','animate__fadeOut','oculto', 'd-none')
							pregunta0.classList.add('animate__animated', 'animate__fadeIn' )
						})
					}

					onMounted(()=>{
						$('.carrusel	').slick({
							slidesToShow: 3,
							slidesToScroll: 3,
							dots: true,
						});
						ocultarLogo()
						var pregunta1 = document.getElementById("pregunta1");
						pregunta1.addEventListener('animationend', (event)=>{
							//console.log(event)
							if(saltar.value !='cero'){
								const proxima = document.getElementById('pregunta1')
								proxima.classList.remove('animate__fadeIn', 'animate__fadeOut', 'oculto', 'd-none')
								proxima.classList.add('animate__animated','animate__fadeIn')
								if(event.animationName == 'fadeIn' ){
									cambiarSoloPregunta1()
								}
							}
						})
					})

					function comenzar(){
						const formulario = document.getElementById('formulario')
						formulario.classList.add('animate__animated', 'animate__fadeOut' )
						formulario.addEventListener('animationend', ()=>{
							formulario.classList.add('oculto', 'd-none')
							const encuesta = document.getElementById('encuesta')
							encuesta.classList.remove('oculto')
							encuesta.classList.add('animate__animated','animate__fadeIn')
						})
					}
					
					function enviarHoja(){
						switch(true){
							case (numPregunta.value == -1):
								if(!postulante.value.nombre || !postulante.value.correo || !postulante.value.celular || !postulante.value.ciudad) Swal.fire({
									icon: 'warning', text: "Todos los campos son obligatorios" })
								else if(!postulante.value.acepto) Swal.fire({
									icon: 'warning', text: "Debe aceptar los términos y condiciones" })
								else{
									saltar.value='uno'
									numPregunta.value=-1
									paso.value=0
									const pregunta0 = document.getElementById('pregunta0')
									pregunta0.classList.add('animate__animated', 'animate__fadeOut' )
									console.log('entra')
									finCero().then(queHay=>{
										console.log('resuelve')
										const pregunta = document.getElementById('pregunta1')
										pregunta.classList.remove('animate__fadeIn', 'animate__fadeOut', 'oculto', 'd-none')
										pregunta.classList.add('animate__animated', 'animate__fadeIn' )
									})
								}
							break;
							case (numPregunta.value>-1):
								saltar.value='uno'
								cambiarPregunta()
							break;
						}
					}
					
					function irAPregunta(numero){
						if(numPregunta.value>=numero){
							saltar.value = numero
							cambiarPregunta()
						}
					}

					function cambiarPregunta(){
						const pregunta = document.getElementById('pregunta1')
						pregunta.classList.remove('animate__fadeIn', 'animate__fadeOut', 'oculto', 'd-none')
						pregunta.classList.add('animate__animated', 'animate__fadeOut' )
					}

					function cambiarSoloPregunta1(){
						console.log('quecambia', saltar.value)
						if( saltar.value == 'cero') return false
						else if( saltar.value == 'uno') numPregunta.value ++
						else numPregunta.value = saltar.value
						paso.value = banco.value[numPregunta.value].proximo
						
					}
					return {
						comenzar, postulante, paso, enviarHoja, banco, numPregunta, irAPregunta, saltar, irCero
					}
				}
			}).mount('#app')
		</script>
	</body>

</html>